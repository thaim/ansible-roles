---

# REPL for golang
- name: check gore insatlled
  shell: /bin/bash -lc "which gore"
  register: status_gore
  changed_when: false
  failed_when: false

- name: golang | install gore
  shell: /bin/bash -lc "go install github.com/x-motemen/gore/cmd/gore@latest"
  when: status_gore.rc != 0


# command reference library
- name: check godoc insatlled
  shell: /bin/bash -lc "which godoc"
  register: status_godoc
  changed_when: false
  failed_when: false

- name: install godoc
  shell: /bin/bash -lc "go install golang.org/x/tools/cmd/godoc@latest"
  when: status_godoc.rc != 0


# lint tool for go lang
- name: check staticcheck insatlled
  # noqa: command-instead-of-shell PATHを反映するためにログインシェルで実行する必要がある
  shell: /bin/bash -lc "which staticcheck"
  register: status_staticcheck
  changed_when: false
  failed_when: false

- name: install staticcheck for go lint
  # noqa: command-instead-of-shell PATHを反映するためにログインシェルで実行する必要がある
  shell: /bin/bash -lc "go install honnef.co/go/tools/cmd/staticcheck@latest"
  when: status_staticcheck.rc != 0


# manage remote repository clones
- name: check ghq insatlled
  shell: /bin/bash -lc "which ghq"
  register: status_ghq
  changed_when: false
  failed_when: false

- name: install ghq
  shell: /bin/bash -lc "go install github.com/x-motemen/ghq@latest"
  when: status_ghq.rc != 0
