---

- name: git | check if git installed
  command: which git
  register: status_git
  changed_when: false
  failed_when: false

- include_tasks: install_{{ ansible_distribution }}.yml
  when: status_git.rc != 0

# needs to configure global .gitconfig and .gitignore files
- name: git | copy git config file
  template:
    src: gitconfig.j2
    dest: "{{ ansible_user_dir }}/.gitconfig"
    owner: "{{ ansible_env.USER }}"
    mode: 0644

- name: git | copy global gitignore file
  copy:
    src: gitignore_global
    dest: "{{ ansible_user_dir }}/.gitignore_global"
    owner: "{{ ansible_env.USER }}"
    mode: 0644
